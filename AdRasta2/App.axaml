<Application xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Class="AdRasta2.App"
             xmlns:local="using:AdRasta2"
             xmlns:semi="https://irihi.tech/semi"
             xmlns:converters="clr-namespace:AdRasta2.Converters"
             xmlns:controls="clr-namespace:AdRasta2.Controls"
             RequestedThemeVariant="Dark">

  <!-- Data templates -->
  <Application.DataTemplates>
    <local:ViewLocator />
  </Application.DataTemplates>
  

  <!-- Resources (non-style) -->
  <Application.Resources>
    <x:Double x:Key="GlobalFontSize">12</x:Double>
    <converters:HeightValueConverter x:Key="AutoValueConverter" />
    <converters:IsAutoConverter x:Key="IsAutoConverter" />
    <converters:IsNotAutoConverter x:Key="IsNotAutoConverter" />
    <converters:ExpandArrowConverter x:Key="ExpandArrowConverter" />
    <Thickness x:Key="TextControlBorderThemeThickness">1</Thickness>
  </Application.Resources>

  <!-- Styles -->
  <Application.Styles>
    <!-- Fluent theme with compact density -->
    <FluentTheme DensityStyle="Compact" />

    <Style Selector="ComboBox.thread-warning">
      <Setter Property="Foreground" Value="Red"/>
      <Setter Property="BorderBrush" Value="Red"/>
    </Style>

    <!-- Global font scaling -->
    <Style Selector="ContentPresenter">
      <Setter Property="FontSize" Value="{DynamicResource GlobalFontSize}" />
    </Style>
    <Style Selector="TextBlock">
      <Setter Property="FontSize" Value="{DynamicResource GlobalFontSize}" />
    </Style>
    <Style Selector="TextBox">
      <Setter Property="FontSize" Value="{DynamicResource GlobalFontSize}" />
    </Style>
    <Style Selector="Button">
      <Setter Property="FontSize" Value="{DynamicResource GlobalFontSize}" />
    </Style>


    <!-- Dark mode support for custom SafeNumericUpDown -->
    <Style Selector="controls|SafeNumericUpDown">
      <Setter Property="Background" Value="{DynamicResource ThemeBackgroundBrush}" />
      <Setter Property="Foreground" Value="{DynamicResource ThemeForegroundBrush}" />
      <Setter Property="BorderBrush" Value="{DynamicResource ThemeBorderBrush}" />
      <Setter Property="FontSize" Value="12" />
    </Style>

    <!-- External includes -->
    <StyleInclude Source="avares://IconPacks.Avalonia.MaterialDesign/MaterialDesign.axaml" />
    <StyleInclude Source="avares://AdRasta2/Styles/SafeNumericUpDownStyle.axaml" />
    <StyleInclude Source="avares://AdRasta2/Styles/HeaderContentControl.axaml" />
  </Application.Styles>
  
</Application>
